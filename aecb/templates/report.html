<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/carbon-components/css/carbon-components.min.css">
    <title>Preapproval Requests Report</title>
</head>

<body>
    <div class="bx--grid">
        <div class="bx--row">
            <div class="bx--col">
                <br><br>
                <h1>National Bank <strong>AECB</strong></h1><br><br>
                <h4>Preapproval Requests Report</h4><br>
            </div>
        </div>
        <div class="bx--row">
            <div class="bx--col">
                <p><strong>Generated at </strong>{{ report.generated_at }}</p><br>
                <p><strong>Generated by </strong>{{ report.generated_by.name }}, {{ report.generated_by.email }}</p><br>
                <p><strong>Most Requested Credit Card is </strong>{{ report.most_requested }}</p><br>
            </div>
            <div class="bx--col">
                <p><strong>Request Approval Ratio of </strong>{{ report.approval_ratio }}%</p><br>
                <p><strong>Request Active Ratio of </strong>{{ report.active_ratio }}%</p><br>
                <p><strong>Most Approved Credit Card is </strong>{{ report.most_approved }}</p><br>
            </div>
        </div>
        <br>
        <div class="bx--row">
            <div class="bx--col">
                <p><strong>Clients Involved</strong></p><br>
                {% for client in report.clients %}
                <ul class="bx--list--unordered">
                    <li class="bx--list__item">{{ client.name }}
                        <ul class="bx--list--unordered bx--list--nested">
                            <li class="bx--list__item">Email is {{ client.email }}</li>
                            <li class="bx--list__item">Income of ${{ client.income }}</li>
                        </ul>
                    </li>
                </ul>
                {% endfor %}
                <br>
            </div>
            <div class="bx--col">
                <p><strong>Employees Involved</strong></p><br>
                {% for employee in report.employees %}
                <ul class="bx--list--unordered">
                    <li class="bx--list__item">{{ employee.name }}
                        <ul class="bx--list--unordered bx--list--nested">
                            <li class="bx--list__item">Email is {{ employee.email }}</li>
                            <li class="bx--list__item">RFC is {{ employee.rfc }}</li>
                        </ul>
                    </li>
                </ul>
                {% endfor %}
                <br>
            </div>
        </div>
        <br>
        <div class="bx--row">
            <div class="bx--col">
                <p><strong>Preapproval Requests</strong></p><br>
                <section class="bx--structured-list">
                    <div class="bx--structured-list-thead">
                        <div class="bx--structured-list-row bx--structured-list-row--header-row">
                            <div class="bx--structured-list-th">Request ID</div>
                            <div class="bx--structured-list-th">Client Name</div>
                            <div class="bx--structured-list-th">Client Email</div>
                            <div class="bx--structured-list-th">Credit Card Name</div>
                            <div class="bx--structured-list-th">Active</div>
                            <div class="bx--structured-list-th">Approved</div>
                            <div class="bx--structured-list-th">Reviewed By</div>
                        </div>
                    </div>
                    <div class="bx--structured-list-tbody">
                        {% for request in report.requests %}
                        <div class="bx--structured-list-row">
                            <div class="bx--structured-list-td">
                                {{ request.id }}
                            </div>
                            <div class="bx--structured-list-td">
                                {{ request.client.name }}
                            </div>
                            <div class="bx--structured-list-td">
                                {{ request.client.email }}
                            </div>
                            <div class="bx--structured-list-td">
                                {{ request.credit_card.name }}
                            </div>
                            <div class="bx--structured-list-td">
                                {{ request.active }}
                            </div>
                            <div class="bx--structured-list-td">
                                {{ request.approved }}
                            </div>
                            <div class="bx--structured-list-td">
                                {{ request.reviewed_by.name }}
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </section>
            </div>
        </div>
    </div>
</body>

</html>